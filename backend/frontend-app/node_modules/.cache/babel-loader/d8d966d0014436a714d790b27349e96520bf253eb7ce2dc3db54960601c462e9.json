{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/hp/Downloads/video_player_uploader-master/backend/frontend-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"C:/Users/hp/Downloads/video_player_uploader-master/backend/frontend-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Downloads/video_player_uploader-master/backend/frontend-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/hp/Downloads/video_player_uploader-master/backend/frontend-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React from'react';import styled from'styled-components';import{useGlobalContext}from'../context/global';import Button from'./Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Upload(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),video=_React$useState2[0],setVideo=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),title=_React$useState4[0],setTitle=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),description=_React$useState6[0],setDescription=_React$useState6[1];var _React$useState7=React.useState('Upload your video...'),_React$useState8=_slicedToArray(_React$useState7,2),label=_React$useState8[0],setLabel=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),loading=_React$useState10[0],setLoading=_React$useState10[1];var _useGlobalContext=useGlobalContext(),getAllVideos=_useGlobalContext.getAllVideos;var handleTextChange=function handleTextChange(name){return function(e){if(name==='title'){setTitle(e.target.value);}else{setDescription(e.target.value);}};};var handleVideo=function handleVideo(e){setVideo(e.target.files[0]);setLabel('Your Video: '+e.target.files[0].name);};var handleUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setLoading(true);if(!title){_context.next=13;break;}formData=new FormData();formData.append('title',e.target.title.value);formData.append('description',e.target.description.value);formData.append('video',e.target.video.files[0]);_context.next=9;return fetch('http://localhost:8000/api/upload',{method:'POST',body:formData});case 9:res=_context.sent;console.log(res);_context.next=14;break;case 13:alert('Add Title');case 14:setLoading(false);getAllVideos();setTitle('');setDescription('');setVideo(null);setLabel('Upload your video...');case 20:case\"end\":return _context.stop();}},_callee);}));return function handleUpload(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(UploadStyled,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Video\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpload,action:\"api/upload\",method:\"POST\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",id:\"title\",placeholder:\"Enter Title\",value:title,onChange:handleTextChange('title')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Enter description here...\",id:\"description\",cols:\"30\",rows:\"6\",value:description,onChange:handleTextChange('description')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-control upload-con\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"video\",children:\"Video Upload\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-input\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"inner-label\",htmlFor:\"video\",style:{color:video?'#00b894':'rgb(74 74 74)'},children:label}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"video\",id:\"video\",accept:\"video/*\"//hidden\n,hidden:true,onChange:handleVideo})]}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-btn\",children:/*#__PURE__*/_jsx(Button,{name:\"Upload\",icon:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload\"}),bg:\"#00b894\",type:\"submit\",disabled:loading})})]})]})]});}var UploadStyled=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    z-index: 5;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n    width: 40%;\\n    background: #262626;  \\n    padding: 2rem; \\n    border-radius: 15px;\\n    box-shadow: 3px 5px 30px rgba(255,255,255,0.1);\\n    h2{\\n        color: #fff;\\n        text-align: center;\\n        font-size: 2rem;\\n        margin-bottom: 2rem;\\n        opacity: 0.9;\\n    }\\n    form{\\n        display: flex;\\n        flex-direction: column;\\n        gap: 2rem;\\n        .input-control{\\n            display: flex;\\n            flex-direction: column;\\n            input, textarea{\\n                padding: .8rem 1rem;\\n                border:1px solid rgb(74 74 74);\\n                border-radius: 5px;\\n                outline: none;\\n                resize: none;\\n                background: transparent;\\n                color: #fff;\\n            }\\n            label{\\n                font-size: 1.2rem;\\n                font-weight: 500;\\n                margin-bottom: 0.5rem;\\n                color: #fff;\\n                opacity: 0.9;\\n            }\\n        }\\n        .inner-input{\\n            display: flex;\\n            align-items: center;\\n            justify-content: center;\\n            border:2px dashed rgb(74 74 74);\\n            border-radius: 5px;\\n            padding: 1rem;\\n            cursor: pointer;\\n            height: 90px;\\n            position: relative;\\n            padding: 1rem;\\n            .inner-label{\\n                cursor: pointer;\\n                margin: 0;\\n                position: absolute;\\n                top: 0;\\n                width: 100%;\\n                height: 100%;\\n                display: flex;\\n                align-items: center;\\n                justify-content: center;\\n                color: rgb(74 74 74);\\n            }\\n        }\\n\\n        .upload-btn{\\n            display: flex;\\n            justify-content: flex-end;\\n            margin-top: 2rem;\\n        }\\n    }\\n\"])));export default Upload;","map":{"version":3,"names":["React","styled","useGlobalContext","Button","jsx","_jsx","jsxs","_jsxs","Upload","_React$useState","useState","_React$useState2","_slicedToArray","video","setVideo","_React$useState3","_React$useState4","title","setTitle","_React$useState5","_React$useState6","description","setDescription","_React$useState7","_React$useState8","label","setLabel","_React$useState9","_React$useState10","loading","setLoading","_useGlobalContext","getAllVideos","handleTextChange","name","e","target","value","handleVideo","files","handleUpload","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","res","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","fetch","method","body","sent","console","log","alert","stop","_x","apply","arguments","UploadStyled","children","onSubmit","action","encType","className","htmlFor","type","id","placeholder","onChange","cols","rows","style","color","accept","hidden","icon","bg","disabled","div","_templateObject","_taggedTemplateLiteral"],"sources":["C:/Users/hp/Downloads/video_player_uploader-master/backend/frontend-app/src/Components/Upload.js"],"sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport { useGlobalContext } from '../context/global';\nimport Button from './Button';\n\nfunction Upload() {\n    const [video, setVideo] = React.useState(null);\n    const [title, setTitle] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    const [label, setLabel] = React.useState('Upload your video...');\n    const [loading, setLoading] = React.useState(false);\n\n    const {getAllVideos} = useGlobalContext()\n\n    const handleTextChange = name => e => {\n        if(name === 'title'){\n            setTitle(e.target.value)\n        }else{\n            setDescription(e.target.value)\n        }\n    }\n\n    const handleVideo = (e) => {\n        setVideo(e.target.files[0])\n        setLabel('Your Video: ' + e.target.files[0].name)\n    }\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n        setLoading(true)\n\n        if(title){\n            const formData = new FormData();\n            formData.append('title', e.target.title.value)\n            formData.append('description', e.target.description.value)\n            formData.append('video', e.target.video.files[0]);\n\n            const res = await fetch('http://localhost:8000/api/upload', {\n                method: 'POST',\n                body: formData\n            })\n\n            console.log(res)\n        }else{\n            alert('Add Title')\n        }\n        \n        setLoading(false)\n        getAllVideos()\n        setTitle('')\n        setDescription('')\n        setVideo(null)\n        setLabel('Upload your video...')\n    }\n\n    return (\n        <UploadStyled>\n            <h2>Upload Video</h2>\n            <form onSubmit={handleUpload} action=\"api/upload\" method='POST' encType='multipart/form-data'>\n                <div className=\"input-control\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input \n                        type=\"text\"\n                        name=\"title\" \n                        id=\"title\" \n                        placeholder='Enter Title' \n                        value={title} \n                        onChange={handleTextChange('title')}\n                    />\n                </div>\n                <div className=\"input-control\">\n                    <label htmlFor=\"description\">Description</label>\n                    <textarea \n                        name=\"description\" \n                        placeholder='Enter description here...' \n                        id=\"description\" cols=\"30\" rows=\"6\"\n                        value={description}\n                        onChange={handleTextChange('description')}\n                        >\n                    </textarea>\n                </div>\n                <div className=\"input-control upload-con\">\n                    <label htmlFor=\"video\">Video Upload</label>\n                    <div className=\"inner-input\">\n                        <label \n                            className='inner-label' \n                            htmlFor=\"video\"\n                            style={{color: video ? '#00b894' : 'rgb(74 74 74)'}}\n                            >\n                                {label}\n                        </label>\n                        <input \n                            type=\"file\" \n                            name=\"video\" \n                            id=\"video\"\n                            accept=\"video/*\"\n                            //hidden\n                            hidden\n                            onChange={handleVideo}\n                        />\n                    </div>\n                    <div className=\"upload-btn\">\n                        <Button     \n                            name=\"Upload\"\n                            icon={<i className=\"fas fa-upload\"></i>}\n                            bg={\"#00b894\"}\n                            type=\"submit\"\n                            disabled={loading}\n                        />\n                    </div>\n                </div>\n            </form>\n        </UploadStyled>\n    )\n}\n\nconst UploadStyled = styled.div`\n    position: fixed;\n    z-index: 5;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 40%;\n    background: #262626;  \n    padding: 2rem; \n    border-radius: 15px;\n    box-shadow: 3px 5px 30px rgba(255,255,255,0.1);\n    h2{\n        color: #fff;\n        text-align: center;\n        font-size: 2rem;\n        margin-bottom: 2rem;\n        opacity: 0.9;\n    }\n    form{\n        display: flex;\n        flex-direction: column;\n        gap: 2rem;\n        .input-control{\n            display: flex;\n            flex-direction: column;\n            input, textarea{\n                padding: .8rem 1rem;\n                border:1px solid rgb(74 74 74);\n                border-radius: 5px;\n                outline: none;\n                resize: none;\n                background: transparent;\n                color: #fff;\n            }\n            label{\n                font-size: 1.2rem;\n                font-weight: 500;\n                margin-bottom: 0.5rem;\n                color: #fff;\n                opacity: 0.9;\n            }\n        }\n        .inner-input{\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border:2px dashed rgb(74 74 74);\n            border-radius: 5px;\n            padding: 1rem;\n            cursor: pointer;\n            height: 90px;\n            position: relative;\n            padding: 1rem;\n            .inner-label{\n                cursor: pointer;\n                margin: 0;\n                position: absolute;\n                top: 0;\n                width: 100%;\n                height: 100%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: rgb(74 74 74);\n            }\n        }\n\n        .upload-btn{\n            display: flex;\n            justify-content: flex-end;\n            margin-top: 2rem;\n        }\n    }\n`;\n\nexport default Upload"],"mappings":"wqBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,gBAAgB,KAAQ,mBAAmB,CACpD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACd,IAAAC,eAAA,CAA0BT,KAAK,CAACU,QAAQ,CAAC,IAAI,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAAvCI,KAAK,CAAAF,gBAAA,IAAEG,QAAQ,CAAAH,gBAAA,IACtB,IAAAI,gBAAA,CAA0Bf,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAArCE,KAAK,CAAAD,gBAAA,IAAEE,QAAQ,CAAAF,gBAAA,IACtB,IAAAG,gBAAA,CAAsCnB,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,CAAAU,gBAAA,CAAAR,cAAA,CAAAO,gBAAA,IAAjDE,WAAW,CAAAD,gBAAA,IAAEE,cAAc,CAAAF,gBAAA,IAClC,IAAAG,gBAAA,CAA0BvB,KAAK,CAACU,QAAQ,CAAC,sBAAsB,CAAC,CAAAc,gBAAA,CAAAZ,cAAA,CAAAW,gBAAA,IAAzDE,KAAK,CAAAD,gBAAA,IAAEE,QAAQ,CAAAF,gBAAA,IACtB,IAAAG,gBAAA,CAA8B3B,KAAK,CAACU,QAAQ,CAAC,KAAK,CAAC,CAAAkB,iBAAA,CAAAhB,cAAA,CAAAe,gBAAA,IAA5CE,OAAO,CAAAD,iBAAA,IAAEE,UAAU,CAAAF,iBAAA,IAE1B,IAAAG,iBAAA,CAAuB7B,gBAAgB,EAAE,CAAlC8B,YAAY,CAAAD,iBAAA,CAAZC,YAAY,CAEnB,GAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAGC,IAAI,QAAI,UAAAC,CAAC,CAAI,CAClC,GAAGD,IAAI,GAAK,OAAO,CAAC,CAChBhB,QAAQ,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC5B,CAAC,IAAI,CACDf,cAAc,CAACa,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CACJ,CAAC,GAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIH,CAAC,CAAK,CACvBrB,QAAQ,CAACqB,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3Bb,QAAQ,CAAC,cAAc,CAAGS,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CACrD,CAAC,CAED,GAAM,CAAAM,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOV,CAAC,MAAAW,QAAA,CAAAC,GAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACzBjB,CAAC,CAACkB,cAAc,EAAE,CAClBvB,UAAU,CAAC,IAAI,CAAC,KAEbb,KAAK,EAAAiC,QAAA,CAAAE,IAAA,WACEN,QAAQ,CAAG,GAAI,CAAAQ,QAAQ,EAAE,CAC/BR,QAAQ,CAACS,MAAM,CAAC,OAAO,CAAEpB,CAAC,CAACC,MAAM,CAACnB,KAAK,CAACoB,KAAK,CAAC,CAC9CS,QAAQ,CAACS,MAAM,CAAC,aAAa,CAAEpB,CAAC,CAACC,MAAM,CAACf,WAAW,CAACgB,KAAK,CAAC,CAC1DS,QAAQ,CAACS,MAAM,CAAC,OAAO,CAAEpB,CAAC,CAACC,MAAM,CAACvB,KAAK,CAAC0B,KAAK,CAAC,CAAC,CAAC,CAAC,CAACW,QAAA,CAAAE,IAAA,SAEhC,CAAAI,KAAK,CAAC,kCAAkC,CAAE,CACxDC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEZ,QACV,CAAC,CAAC,QAHIC,GAAG,CAAAG,QAAA,CAAAS,IAAA,CAKTC,OAAO,CAACC,GAAG,CAACd,GAAG,CAAC,CAAAG,QAAA,CAAAE,IAAA,kBAEhBU,KAAK,CAAC,WAAW,CAAC,SAGtBhC,UAAU,CAAC,KAAK,CAAC,CACjBE,YAAY,EAAE,CACdd,QAAQ,CAAC,EAAE,CAAC,CACZI,cAAc,CAAC,EAAE,CAAC,CAClBR,QAAQ,CAAC,IAAI,CAAC,CACdY,QAAQ,CAAC,sBAAsB,CAAC,0BAAAwB,QAAA,CAAAa,IAAA,MAAAlB,OAAA,GACnC,kBA1BK,CAAAL,YAAYA,CAAAwB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OA0BjB,CAED,mBACI3D,KAAA,CAAC4D,YAAY,EAAAC,QAAA,eACT/D,IAAA,OAAA+D,QAAA,CAAI,cAAY,EAAK,cACrB7D,KAAA,SAAM8D,QAAQ,CAAE7B,YAAa,CAAC8B,MAAM,CAAC,YAAY,CAACb,MAAM,CAAC,MAAM,CAACc,OAAO,CAAC,qBAAqB,CAAAH,QAAA,eACzF7D,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAJ,QAAA,eAC1B/D,IAAA,UAAOoE,OAAO,CAAC,OAAO,CAAAL,QAAA,CAAC,OAAK,EAAQ,cACpC/D,IAAA,UACIqE,IAAI,CAAC,MAAM,CACXxC,IAAI,CAAC,OAAO,CACZyC,EAAE,CAAC,OAAO,CACVC,WAAW,CAAC,aAAa,CACzBvC,KAAK,CAAEpB,KAAM,CACb4D,QAAQ,CAAE5C,gBAAgB,CAAC,OAAO,CAAE,EACtC,GACA,cACN1B,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAJ,QAAA,eAC1B/D,IAAA,UAAOoE,OAAO,CAAC,aAAa,CAAAL,QAAA,CAAC,aAAW,EAAQ,cAChD/D,IAAA,aACI6B,IAAI,CAAC,aAAa,CAClB0C,WAAW,CAAC,2BAA2B,CACvCD,EAAE,CAAC,aAAa,CAACG,IAAI,CAAC,IAAI,CAACC,IAAI,CAAC,GAAG,CACnC1C,KAAK,CAAEhB,WAAY,CACnBwD,QAAQ,CAAE5C,gBAAgB,CAAC,aAAa,CAAE,EAEnC,GACT,cACN1B,KAAA,QAAKiE,SAAS,CAAC,0BAA0B,CAAAJ,QAAA,eACrC/D,IAAA,UAAOoE,OAAO,CAAC,OAAO,CAAAL,QAAA,CAAC,cAAY,EAAQ,cAC3C7D,KAAA,QAAKiE,SAAS,CAAC,aAAa,CAAAJ,QAAA,eACxB/D,IAAA,UACImE,SAAS,CAAC,aAAa,CACvBC,OAAO,CAAC,OAAO,CACfO,KAAK,CAAE,CAACC,KAAK,CAAEpE,KAAK,CAAG,SAAS,CAAG,eAAe,CAAE,CAAAuD,QAAA,CAE/C3C,KAAK,EACN,cACRpB,IAAA,UACIqE,IAAI,CAAC,MAAM,CACXxC,IAAI,CAAC,OAAO,CACZyC,EAAE,CAAC,OAAO,CACVO,MAAM,CAAC,SACP;AAAA,CACAC,MAAM,MACNN,QAAQ,CAAEvC,WAAY,EACxB,GACA,cACNjC,IAAA,QAAKmE,SAAS,CAAC,YAAY,CAAAJ,QAAA,cACvB/D,IAAA,CAACF,MAAM,EACH+B,IAAI,CAAC,QAAQ,CACbkD,IAAI,cAAE/E,IAAA,MAAGmE,SAAS,CAAC,eAAe,EAAM,CACxCa,EAAE,CAAE,SAAU,CACdX,IAAI,CAAC,QAAQ,CACbY,QAAQ,CAAEzD,OAAQ,EACpB,EACA,GACJ,GACH,GACI,CAEvB,CAEA,GAAM,CAAAsC,YAAY,CAAGlE,MAAM,CAACsF,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,o8DAyE9B,CAED,cAAe,CAAAjF,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}